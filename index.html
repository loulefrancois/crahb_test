<!DOCTYPE html>

<html lang="fr">
<meta charset="utf-8" />


<head>

    <!-- Ce qui est écris sur l'onglet : -->
    <title>Test Crahb 2</title>

    <!-- FAVICON -->
    <link rel="shortcut icon" href="" />
    <!-- CSS -->
    <link rel="stylesheet" href="css/index3.css" />
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print" />
    <!--<link rel="stylesheet" href="css/grid_gruimier.css" />-->
    <!-- FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Krona+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@700;900&display=swap" rel="stylesheet">
    <!-- JAVASCRIPT/QUERY -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>
    <script>



    </script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>

</head>

<body>

    <img src="images/crahb_recrutement_10.jpg">
    
    <h1>Post Instagram :</h1>

    <div id="afficheMatch">

            <h2>Titre de la publication :</h2>
            <div id="titre" contenteditable="true">
                <p>LE CRAHB RECHERCHE DES ENTRAÎNEURS</p>
            </div>
        
            <h2>Lieu :</h2>
            <div id="texte" contenteditable="true">
                <p>Vous souhaitez participer à la vie d’un club ? Coacher une équipe la saison prochaine ? Rejoignez-nous !</p>
            </div>

    </div>
    
 


    <script></script>
    
    <script>
        function myFunction() {

            var doc = new jsPDF('l', 'cm', '400, 400');
            var text1 = document.getElementById('heure').textContent;
            var text2 = document.getElementById('lieu').textContent;
            var text3 = document.getElementById('equipe').textContent;

            doc.text(text1, 10, 10)
            doc.text(text2, 10, 30)
            doc.text(text3, 10, 50)
            doc.save('a4.pdf')

        }
    </script>

    <script>
        function getPDF() {

            var HTML_Width = $(".canvas_div_pdf").width();
            var HTML_Height = $(".canvas_div_pdf").height();
            var top_left_margin = 15;
            var PDF_Width = HTML_Width + (top_left_margin * 2);
            var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
            var canvas_image_width = HTML_Width;
            var canvas_image_height = HTML_Height;

            var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;


            html2canvas($(".canvas_div_pdf")[0], {
                allowTaint: true
            }).then(function(canvas) {
                canvas.getContext('2d');

                console.log(canvas.height + "  " + canvas.width);


                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
                pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);


                for (var i = 1; i <= totalPDFPages; i++) {
                    pdf.addPage(PDF_Width, PDF_Height);
                    pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + (top_left_margin * 4), canvas_image_width, canvas_image_height);
                }

                pdf.save("HTML-Document.pdf");
            });
        };
    </script>

</body>

</html>
